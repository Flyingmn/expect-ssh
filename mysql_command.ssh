#!/usr/bin/expect

set uname "uname"
set passwd "pass\$wd" # 特殊字符\转义
set host "host"
set port 3306
set database "dbname"

set timeout 20

spawn mysql -h$host -u$uname -P$port -p

expect "*password:"
send "$passwd\r"

expect "*mysql>"

send "use $database\r"


interact


